import{_ as i,c as a,d as s,o as t}from"./app-BMPv-Bde.js";const n={};function o(c,e){return t(),a("div",null,e[0]||(e[0]=[s(`<h2 id="算法使用" tabindex="-1"><a class="header-anchor" href="#算法使用"><span>算法使用</span></a></h2><div class="vp-steps"><ul><li><h3 id="选择合适的场景" tabindex="-1"><a class="header-anchor" href="#选择合适的场景"><span>选择合适的场景</span></a></h3><details class="hint-container details"><summary>我应当在什么场景下使用该算法 ？</summary><p>算法运行前，先将无人机放置在平稳的地方，且机头方向有足够结构特征的场景（不推荐在雨雪、 完全空旷、运动物体多等地方）</p></details></li><li><h3 id="运行算法" tabindex="-1"><a class="header-anchor" href="#运行算法"><span>运行算法</span></a></h3><p>当无人机放置好后，可以开始运行算法：</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 打开终端，初始化无人机并启动 Fast-LIO2 激光里程计</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">cd</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> X280</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">bash</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> scripts/init_uav.sh</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><h3 id="判断是否正常初始化" tabindex="-1"><a class="header-anchor" href="#判断是否正常初始化"><span>判断是否正常初始化</span></a></h3><details class="hint-container details"><summary>当终端提示 <code>drone_odom_succed</code> 时，表明 Fast-LIO2 初始化完成，如下图所示：</summary><p><img src="https://file.emnavi.tech/MEDIA_ASSETS/X280/web/fastlio2_init_result.png" alt="fastlio2_init_result.png"></p></details></li><li><h3 id="评估和可视化" tabindex="-1"><a class="header-anchor" href="#评估和可视化"><span>评估和可视化</span></a></h3><p>初始化完成后，然后用手缓慢拿起无人机，在结构纹理充足的场地中慢速（ &lt;1m/s）走一段距离,一般可以通过绕场地一圈回到出发点，观察里程计输出ROS话题 <code>/mavros/vision_pose/pose.pose.position</code> 结果值是否与初始值（<code>x:0 y:0 z:0</code>）接近。如果偏差能控制在 cm 数量级，则表明 Fast-Lio2 运行良好。</p></li></ul><h2 id="常见问题" tabindex="-1"><a class="header-anchor" href="#常见问题"><span>常见问题</span></a></h2><div class="hint-container warning"><p class="hint-container-title">Q: 初始化失败，终端持续提示 <code>WAIT mid360 online</code></p><p>雷达数据没收到，需要检查雷达相关话题是否存在、雷达线材是否松动、或者去 <code>X280/src/emnavi_sdk/global_interface/config/livox_ros_driver2/MID360_config.json</code> 路径下检查雷达ip、雷达连接飞机NX主机的有线网卡ip地址，是否与雷达参数文件匹配。</p></div><div class="hint-container warning"><p class="hint-container-title">Q: 终端持续提示 <code>WAIT fast-lio_odom</code></p><p>检查雷达相关话题是否都有信息输入 <code>livox/lidar</code>, <code>livox/imu</code>, 然后检查 <code>fastlio_odom</code> 话题是否有结果输出。如果没有那说明可能里程计</p></div><div class="hint-container warning"><p class="hint-container-title">Q: 初始化完成后，依然会出现里程计飘的问题。</p><p>可以根据现象一步步排查</p><p>1、如果是初始化后，静止不动都会直接飘了，需要看是否有（动态物体、频闪的光源、反光玻璃等）大量存在于相机视野中，这些会导致 Fast-LIO2 认为场景在运动；</p><p>2、也可能是初始化过程中，即IMU预积分阶段时，无人机处于非静止状态，放大了陀螺仪噪声估计误差。</p><p>3、可能是内外参关系与实际情况相差过大。需要检查激光雷达与机体是否牢固，排除因为摔飞机导致结构位移。或者需要重新标定内外参信息。</p></div><div class="hint-container warning"><p class="hint-container-title">Q: 在室内表现还行，但是在户外场景或者大的空间就不太行。</p><p>大概率问题还是场景退化的问题，面对没有多少结构特征的大平面、长廊，或者干脆就看不见点云了，这些情况下雷达里程计收到的结构约束较少，会出现一定程度的漂移。</p></div></div>`,2)]))}const d=i(n,[["render",o],["__file","index.html.vue"]]),l=JSON.parse('{"path":"/X280/Fast-LIO2%E6%BF%80%E5%85%89%E9%87%8C%E7%A8%8B%E8%AE%A1/","title":"Fast-LIO2激光里程计","lang":"zh-CN","frontmatter":{"title":"Fast-LIO2激光里程计","createTime":"2025/07/23 11:15:51","permalink":"/X280/Fast-LIO2激光里程计/","readingTime":false,"description":"算法使用 选择合适的场景 我应当在什么场景下使用该算法 ？ 算法运行前，先将无人机放置在平稳的地方，且机头方向有足够结构特征的场景（不推荐在雨雪、 完全空旷、运动物体多等地方） 运行算法 当无人机放置好后，可以开始运行算法： 判断是否正常初始化 当终端提示 drone_odom_succed 时，表明 Fast-LIO2 初始化完成，如下图所示： fa...","head":[["meta",{"property":"og:url","content":"https://emnavi.tech/X280/Fast-LIO2%E6%BF%80%E5%85%89%E9%87%8C%E7%A8%8B%E8%AE%A1/"}],["meta",{"property":"og:site_name","content":"emNavi"}],["meta",{"property":"og:title","content":"Fast-LIO2激光里程计"}],["meta",{"property":"og:description","content":"算法使用 选择合适的场景 我应当在什么场景下使用该算法 ？ 算法运行前，先将无人机放置在平稳的地方，且机头方向有足够结构特征的场景（不推荐在雨雪、 完全空旷、运动物体多等地方） 运行算法 当无人机放置好后，可以开始运行算法： 判断是否正常初始化 当终端提示 drone_odom_succed 时，表明 Fast-LIO2 初始化完成，如下图所示： fa..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://emnavi-doc-img.oss-cn-beijing.aliyuncs.com/emnavi_assets/intro/comparison_of_test_scenarios.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-09-27T10:27:15.000Z"}],["meta",{"property":"article:modified_time","content":"2025-09-27T10:27:15.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Fast-LIO2激光里程计\\",\\"image\\":[\\"https://emnavi-doc-img.oss-cn-beijing.aliyuncs.com/emnavi_assets/intro/comparison_of_test_scenarios.png\\",\\"https://file.emnavi.tech/MEDIA_ASSETS/X280/web/fastlio2_init_result.png\\",\\"https://emnavi-doc-img.oss-cn-beijing.aliyuncs.com/emnavi_assets/intro/vins_fusion_demo.png\\"],\\"dateModified\\":\\"2025-09-27T10:27:15.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"算法使用","slug":"算法使用","link":"#算法使用","children":[]}],"readingTime":{"minutes":2.79,"words":836},"git":{"createdTime":1758613099000,"updatedTime":1758968835000,"contributors":[{"name":"Derkai","email":"2363104914@qq.com","commits":4}]},"autoDesc":true,"filePathRelative":"notes/X280/2.X280飞行指南/2.Fast-LIO2激光里程计.md"}');export{d as comp,l as data};
